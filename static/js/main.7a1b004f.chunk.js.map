{"version":3,"sources":["apiHelpers.ts","CommitListItem.tsx","LoadingSpinner.tsx","RepoListItem.tsx","RepoListItemLoading.tsx","App.tsx","index.tsx"],"names":["fetchInit","headers","Authorization","Accept","CommitListItem","author","commit","html_url","sha","formattedDate","Date","date","toLocaleDateString","undefined","year","month","day","className","size","href","rel","target","message","src","avatar_url","alt","login","width","height","substring","LoadingSpinner","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","RepoListItem","description","language","name","open_issues_count","owner","stargazers_count","useState","commits","setCommits","loading","setLoading","metaButton","fetchCommits","a","fetch","response","ok","json","data","id","map","node_id","length","type","onClick","event","preventDefault","disabled","RepoListItemLoading","titleWidth","Math","floor","random","animate","App","initOrg","URLSearchParams","window","location","search","get","org","setOrg","repos","setRepos","fetchRepos","history","pushState","useEffect","onSubmit","placeholder","value","onChange","e","currentTarget","autoFocus","i","repo","rootElement","document","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.7a1b004f.chunk.js","sourcesContent":["export const fetchInit = {\n  headers: {\n    Authorization: `token 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`,\n    Accept: 'application/vnd.github.v3+json',\n  },\n};\n","import * as React from 'react';\nimport { Commit } from './github';\nimport { CommitIcon } from '@primer/octicons-react';\n\nexport const CommitListItem: React.FC<Commit> = ({ author, commit, html_url, sha }) => {\n  const formattedDate = new Date(commit.author.date).toLocaleDateString(undefined, {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n  });\n\n  return (\n    <li className=\"flex items-start -ml-7 mt-6\">\n      <CommitIcon className=\"flex-shrink-0 mr-3 text-green-500 bg-white\" size={28} />\n      <div className=\"flex-1\">\n        <a\n          className=\"text-lg font-semibold text-indigo-800 hover:text-indigo-600 mb-1 inline-block\"\n          href={html_url}\n          rel=\"nofollow\"\n          target=\"_blank\"\n        >\n          {commit.message}\n        </a>\n        <ul className=\"flex items-center flex-wrap gap-x-4 text-gray-600\">\n          {author ? (\n            <li className=\"flex items-center text-sm\">\n              <a\n                className=\"flex items-center font-semibold hover:underline mr-1\"\n                href={author.html_url}\n                rel=\"nofollow\"\n                target=\"_blank\"\n              >\n                <img\n                  className=\"rounded-full mr-1\"\n                  src={author.avatar_url}\n                  alt={`Profile picture of ${author.login}`}\n                  width=\"24\"\n                  height=\"24\"\n                />\n                {author.login}\n              </a>\n              <span className=\"hidden md:inline md:mr-1\">committed on</span>\n              {formattedDate}\n            </li>\n          ) : null}\n          <li className=\"font-mono leading-5 font-semibold tracking-wide text-2xs bg-gray-100 px-2\">\n            {sha.substring(0, 7)}\n          </li>\n        </ul>\n      </div>\n    </li>\n  );\n};\n","import * as React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const LoadingSpinner: React.FC<Props> = ({ className = '' }) => {\n  return (\n    <svg\n      className={`animate-spin inline-block ${className}`}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      width=\"1em\"\n      height=\"1em\"\n    >\n      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n      <path\n        className=\"opacity-75\"\n        fill=\"currentColor\"\n        d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n      />\n    </svg>\n  );\n};\n","import * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport { Commit, Repo } from './github';\nimport { fetchInit } from './apiHelpers';\nimport { CommitListItem } from './CommitListItem';\nimport { LoadingSpinner } from './LoadingSpinner';\nimport { GitPullRequestIcon, IssueOpenedIcon, StarIcon } from '@primer/octicons-react';\n\nexport const RepoListItem: React.FC<Repo> = ({\n  description,\n  html_url,\n  language,\n  name,\n  open_issues_count,\n  owner,\n  stargazers_count,\n}) => {\n  const [commits, setCommits] = useState<Commit[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n  const metaButton =\n    'rounded-sm hover:text-indigo-800 hover:underline focus:text-indigo-800 focus:outline-none focus:ring-2 focus:ring-offset-8 focus:ring-indigo-500 transition duration-200 ease-in-out';\n\n  const fetchCommits = async () => {\n    const response = await fetch(\n      `https://api.github.com/repos/${owner.login}/${name}/commits?per_page=10`,\n      fetchInit,\n    );\n    setLoading(false);\n\n    if (response.ok) {\n      const data: Commit[] = await response.json();\n      setCommits(data);\n    }\n  };\n\n  const handleClick = (event: React.SyntheticEvent) => {\n    event.preventDefault();\n    setLoading(true);\n    fetchCommits();\n  };\n\n  return (\n    <li id={name} className=\"p-6 mx-auto bg-white rounded-xl shadow-xl mb-3\">\n      <h5 className=\"text-3xl font-bold text-gray-900\">\n        <a className=\"hover:text-indigo-600\" href={html_url} rel=\"nofollow\" target=\"_blank\">\n          {name}\n        </a>\n      </h5>\n      {description && <p className=\"text-gray-500 text-xl\">{description}</p>}\n      <ul className=\"flex items-center text-gray-600 mt-6 mb-8 gap-x-8\">\n        <li className=\"flex-initial\">\n          <a\n            className={metaButton}\n            href={`${html_url}/pulls`}\n            rel=\"nofollow\"\n            target=\"_blank\"\n            aria-label=\"Pull requests\"\n          >\n            <GitPullRequestIcon className=\"mr-2\" />\n            PRs\n          </a>\n        </li>\n        <li className=\"flex-initial\">\n          <a className={metaButton} href={`${html_url}/issues`} rel=\"nofollow\" target=\"_blank\">\n            <IssueOpenedIcon className=\"mr-2\" aria-label=\"Open issues\" />\n            {open_issues_count}\n          </a>\n        </li>\n        <li className=\"flex-initial\">\n          <a className={metaButton} href={`${html_url}/stargazers`} rel=\"nofollow\" target=\"_blank\">\n            <StarIcon className=\"mr-2\" aria-label=\"Star count\" />\n            {stargazers_count}\n          </a>\n        </li>\n        <li className=\"flex-initial\">\n          <span className=\"px-3 inline-flex text-sm font-semibold rounded-full bg-indigo-100 text-indigo-800\">\n            {language}\n          </span>\n        </li>\n      </ul>\n      <div className=\"pl-4\">\n        <ul id={`${name}-commits`} className=\"border-l-4 border-gray-100 pl-3\">\n          {commits.map((commit) => (\n            <CommitListItem key={commit.node_id} {...commit} />\n          ))}\n        </ul>\n      </div>\n      {commits.length === 0 && (\n        <button\n          className=\"bg-white py-2 px-4 border border-indigo-300 rounded-full shadow-sm text-sm leading-4 font-medium text-indigo-800 hover:bg-indigo-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-200 ease-in-out disabled:opacity-50 inline-flex justify-center items-center\"\n          type=\"button\"\n          onClick={handleClick}\n          disabled={loading}\n        >\n          Load latest commits\n          {loading && <LoadingSpinner className=\"ml-2\" />}\n        </button>\n      )}\n    </li>\n  );\n};\n","import * as React from 'react';\n\nexport const RepoListItemLoading: React.FC = () => {\n  const titleWidth = [36, 44, 56, 72][Math.floor(Math.random() * 4)];\n  const animate = 'animate-pulse bg-gray-300 rounded-lg';\n  return (\n    <li className=\"p-6 mx-auto bg-white rounded-xl shadow-xl mb-3\">\n      <h5 className={`h-8 w-${titleWidth} mb-2 ${animate}`}></h5>\n      <p className={`h-6 mb-6 ${animate}`}></p>\n      <ul className=\"flex items-center gap-x-8\">\n        <li className={`flex-initial h-5 w-12 ${animate}`}></li>\n        <li className={`flex-initial h-5 w-12 ${animate}`}></li>\n        <li className={`flex-initial h-5 w-12 ${animate}`}></li>\n        <li className={`flex-initial h-5 w-12 ${animate}`}></li>\n      </ul>\n    </li>\n  );\n};\n","import * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport { fetchInit } from './apiHelpers';\nimport { RepoListItem } from './RepoListItem';\nimport { RepoListItemLoading } from './RepoListItemLoading';\nimport { LoadingSpinner } from './LoadingSpinner';\nimport { Repo } from './github';\n\nexport const App: React.FC = () => {\n  const initOrg = new URLSearchParams(window.location.search).get('org') || 'netflix';\n  const [org, setOrg] = useState<string>(initOrg);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [repos, setRepos] = useState<Repo[]>([]);\n\n  const fetchRepos = async () => {\n    const response = await fetch(`https://api.github.com/orgs/${org}/repos`, fetchInit);\n    setLoading(false);\n\n    if (response.ok) {\n      const data: Repo[] = await response.json();\n      window.history.pushState({}, '', `/?org=${org}`);\n      setRepos(data);\n    }\n  };\n\n  const handleSubmit = (event: React.SyntheticEvent) => {\n    event.preventDefault();\n    setLoading(true);\n    fetchRepos();\n  };\n\n  useEffect(() => {\n    fetchRepos();\n  }, []);\n\n  return (\n    <div className=\"lg:grid lg:grid-cols-2 gap-12 max-w-7xl mx-auto\">\n      <header className=\"lg:sticky lg:h-screen top-0 self-start py-16 lg:py-28\">\n        <h1 className=\"text-5xl lg:text-7xl font-extrabold tracking-tight mb-3 text-transparent bg-clip-text bg-gradient-to-br from-white to-pink-100\">\n          Github\n          <br />\n          Repo Search\n        </h1>\n        <p className=\"text-2xl lg:text-3xl mb-10 text-pink-50 lg:font-light\">\n          See Github repos belonging to any organization\n        </p>\n        <form className=\"flex items-center gap-2\" onSubmit={handleSubmit}>\n          <label className=\"flex-1 block\">\n            <span className=\"sr-only\">Search:</span>\n            <input\n              type=\"text\"\n              name=\"org\"\n              className=\"bg-white py-2 px-4 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-md border-gray-300 rounded-lg capitalize transition duration-200 ease-in-out disabled:opacity-50\"\n              placeholder=\"Search Github organizations\"\n              value={org}\n              disabled={loading}\n              onChange={(e) => setOrg(e.currentTarget.value)}\n              autoFocus\n            />\n          </label>\n          <button\n            className=\"flex-none text-white py-2 px-4 border border-transparent rounded-lg shadow-md bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition duration-200 ease-in-out disabled:opacity-50 inline-flex justify-center items-center\"\n            type=\"submit\"\n            disabled={loading}\n          >\n            Search\n            {loading && <LoadingSpinner className=\"ml-2 text-xl\" />}\n          </button>\n        </form>\n      </header>\n      <ul id=\"repo-list\" className=\"my-6 -mx-4 lg:mx-0\">\n        {loading && !repos.length && [1, 2, 3, 4, 5].map((i) => <RepoListItemLoading key={i} />)}\n        {repos.map((repo) => (\n          <RepoListItem key={repo.id} {...repo} />\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { App } from './App';\n\nimport './styles.css';\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}